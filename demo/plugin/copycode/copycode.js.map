{"version":3,"file":"copycode.js","sources":["../../../src/plugin/js/helpers.js","../../../src/plugin/js/functions/get-pre-blocks.js","../../../src/plugin/js/functions/build-structure.js","../../../src/plugin/js/functions/style-button.js","../../../src/plugin/js/functions/do-clipboard.js","../../../src/plugin/js/plugin.js"],"sourcesContent":["/**\n * Check if a given string is valid JSON.\n * @param {string} str - The string to be checked.\n * @returns {boolean} `true` if the string is valid JSON, otherwise `false`.\n */\nexport const isJSON = str => {\n\ttry {\n\t\treturn (JSON.parse(str) && !!str);\n\t} catch (e) {\n\t\treturn false;\n\t}\n};\n\n/**\n * Convert a NodeList into an array based on provided selectors.\n * @param {Element} container - The root element to begin querying.\n * @param {string} selectors - A string containing one or more CSS selectors separated by commas.\n * @returns {Element[]} Array of elements that match the given selectors.\n */\nexport const selectionArray = (container, selectors) => {\n\tlet selections = container.querySelectorAll(selectors);\n\tlet selectionarray = Array.prototype.slice.call(selections);\n\treturn selectionarray;\n};\n\n/**\n * Check if an element has child nodes that are `SECTION` elements.\n * @param {Object} param0 - Object with childNodes property.\n * @param {NodeListOf<ChildNode>} param0.childNodes - List of child nodes of the element.\n * @returns {boolean} `true` if the element contains `SECTION` child nodes, otherwise `false`.\n */\nexport const isStack = ({childNodes}) => {\n\tlet isStack = false;\n\tfor (let i = 0; i < childNodes.length; i++) {\n\t\tif (childNodes[i].tagName == \"SECTION\") {\n\t\t\tisStack = true;\n\t\t\tbreak;\n\t\t}\n\t}\n\treturn isStack;\n};\n\n/**\n * Copy data attributes from a source element to a target element with an optional exception.\n * @param {Object} param0 - Object with attributes property.\n * @param {NamedNodeMap} param0.attributes - Map of attributes of the source element.\n * @param {Element} target - Target element to copy attributes to.\n * @param {string} [not] - Optional attribute name to exclude from copying.\n */\nexport const copyDataAttributes = ({attributes}, target, not) => {\n\t[...attributes].filter(({nodeName}) => nodeName.includes('data')).forEach(({nodeName, nodeValue}) => {\n\t\tif ((not && nodeName !== not) || !not) {\n\t\t\ttarget.setAttribute(nodeName, nodeValue);\n\t\t}\n\t});\n};\n\n/**\n * Check if the given item is an object and not an array.\n * @param {*} item - The item to be checked.\n * @returns {boolean} `true` if the item is an object and not an array, otherwise `false`.\n */\nexport const isObject = (item) => {\n\treturn (item && typeof item === 'object' && !Array.isArray(item));\n}\n\n/**\n * Deep merge multiple objects into a target object.\n * @param {Object} target - Target object to merge values into.\n * @param {...Object} sources - Source objects to merge from.\n * @returns {Object} The merged object.\n */\nexport const mergeDeep = (target, ...sources) => {\n\tif (!sources.length) return target;\n\tconst source = sources.shift();\n\n\tif (isObject(target) && isObject(source)) {\n\t\tfor (const key in source) {\n\t\t\tif (isObject(source[key])) {\n\t\t\t\tif (!target[key]) Object.assign(target, { [key]: {} });\n\t\t\t\tmergeDeep(target[key], source[key]);\n\t\t\t} else {\n\t\t\t\tObject.assign(target, { [key]: source[key] });\n\t\t\t}\n\t\t}\n\t}\n\treturn mergeDeep(target, ...sources);\n}\n\n/**\n * Resolves the given Promise immediately using setTimeout.\n * @param {Function} resolve - The resolve function of a Promise.\n * @returns {number} The ID value of the timer that is set.\n */\nexport const doneLoading = (resolve) => {\n\treturn setTimeout(resolve, 0);\n}\n\n\n/**\n * Converts a JavaScript object or a JSON-formatted string to a JSON string.\n *\n * @param {Object|string} str - The input string or object to be converted to a JSON string.\n * @returns {string} The JSON string.\n */\nexport const toJSONString = (str) => {\n\tlet JSONString = ''\n\n\tif (typeof str === \"string\") str = str.replace(/[“”]/g,'\"').replace(/[‘’]/g,\"'\");\n\n\tif (isJSON(str)) {\n\t\tJSONString = str\n\t} else {\n\t\tif (typeof str === \"object\") {\n\t\t\tJSONString = JSON.stringify(str, null, 2)\n\t\t} else {\n\t\t\tJSONString = str.trim().replace(/'/g, '\"').charAt(0) === \"{\" ? str.trim().replace(/'/g, '\"') : `{${str.trim().replace(/'/g, '\"')}}`;\n\t\t}\n\t}\n\treturn JSONString;\n}\n\n/**\n * Dynamically loads a resource from the specified URL and calls a callback function when it's loaded.\n *\n * @param {string} url - The URL of the resource to load.\n * @param {string} type - The type of resource to load.\n * @param {Function} callback - A callback function to be called when the resource is loaded.\n */\nexport const loadResource = (url, type, callback) => {\n\tlet head = document.querySelector('head');\n\tlet resource;\n\n\tif (type === 'script') {\n\t  resource = document.createElement('script');\n\t  resource.type = 'text/javascript';\n\t  resource.src = url;\n\t} else if (type === 'stylesheet') {\n\t  resource = document.createElement('link');\n\t  resource.rel = 'stylesheet';\n\t  resource.href = url;\n\t}\n\tconst finish = () => {\n\t  if (typeof callback === 'function') {\n\t\tcallback.call();\n\t\tcallback = null;\n\t  }\n\t};\n\tresource.onload = finish;\n\tresource.onreadystatechange = function () {\n\t\tif (this.readyState === 'loaded') {\n\t\t  finish();\n\t\t}\n\t};\n\thead.appendChild(resource);\n}\n\n/**\n * Retrieves the path of a JavaScript file based on its filename.\n *\n * @param {string} fileName - The filename of the script.\n * @returns {string} The path to the plugin's location.\n */\nexport const pluginPath = (fileName) => {\n\tlet path;\n\tlet pluginScript = document.querySelector(`script[src$=\"${fileName}\"]`);\n\tif (pluginScript) {\n\t\tpath = pluginScript.getAttribute(\"src\").slice(0, -1 * (fileName.length));\n\t} else {\n\t\tpath = import.meta.url.slice(0, import.meta.url.lastIndexOf('/') + 1);\n\t}\n\treturn path;\n}\n\n\n/**\n * Check if element 'a' appears before element 'b' in the DOM tree.\n *\n * @param {HTMLElement} a - The first HTML element to compare.\n * @param {HTMLElement} b - The second HTML element to compare.\n * @returns {boolean|undefined} - Returns `true` if element 'a' appears before element 'b', `false` if 'b' appears before 'a', and `undefined` if the elements have no relative position in the DOM tree.\n */\nexport const isBefore = (a, b) => {\n    var all = document.getElementsByTagName('*');\n\n    for (var i = 0; i < all.length; ++i) {\n        if (all[i] === a) {\n            return true;\n        } else if (all[i] === b) {\n            return false;\n        }\n    }\n    // If the elements have no relative position in the DOM tree\n    return undefined;\n};\n\n\n/**\n * Check the number of occurrences of a specific element in an array.\n *\n * @param {Array} array - The array in which occurrences are to be counted.\n * @param {*} element - The element to be counted within the array.\n * @returns {number} - The count of occurrences of the specified element in the array.\n */\nexport const checkOccurrence = (array, element) => {\n    let counter = 0;\n    for (let i = 0; i < array.length; i++) {\n        if (array[i] == element) {\n            counter++;\n        }\n    }\n    return counter;\n};\n\n\n/**\n * Create an HTML element from a string of HTML.\n *\n * @param {string} thehtml - The string of HTML to be converted into an HTML element.\n * @returns {HTMLElement | null} - The HTML element created from the provided HTML string. Returns `null` if the element couldn't be created.\n */\nexport const createNode = (thehtml) => {\n    const fragment = document.createRange().createContextualFragment(thehtml);\n    return fragment.firstElementChild;\n};\n\n\n\nexport const debugLog = (options, text) => {\n\tif (options.debug) console.log(text);\n}\n\n","import {buildStructure} from \"./build-structure.js\";\n\nexport const getPreBlocks = (preblocks, options, deck) => {\n\n\tconst generator = document.querySelector('[name=generator]');\n\toptions.quarto = (generator && generator.content.includes(\"quarto\")) ? true : false\n\n\tlet revealEl = deck.getRevealElement();\n\n\trevealEl.style.setProperty('--cc-copy-bg',  options.copybg || options.style.copybg );\n\trevealEl.style.setProperty('--cc-copy-color', options.copycolor || options.style.copycolor);\n\trevealEl.style.setProperty('--cc-copied-bg', options.copiedbg || options.style.copiedbg);\n\trevealEl.style.setProperty('--cc-copied-color', options.copiedcolor || options.style.copiedcolor);\n\trevealEl.style.setProperty('--cc-scale', options.scale || options.style.scale);\n\trevealEl.style.setProperty('--cc-offset', options.offset || options.style.offset);\n\trevealEl.style.setProperty('--cc-radius', options.radius || options.style.radius);\n\trevealEl.style.setProperty('--cc-copyborder', options.copyborder || options.style.copyborder);\n\trevealEl.style.setProperty('--cc-copiedborder', options.copiedborder || options.style.copiedborder);\n\n\tpreblocks.forEach(preblock => buildStructure(preblock, options) );\n\n}","import {styleButton} from \"./style-button.js\";\n\nexport const buildStructure = (preblock, options) => {\n\n\tlet codeblock = null;\n\tlet dataHolder = preblock;\n\n\tif (options.quarto && preblock.parentNode.matches(\".sourceCode\")) {\n\t\t// Running in Quarto\n\t\tcodeblock = preblock.parentNode;\n\t\tdataHolder = codeblock;\n\n\t} else {\n\t\t// Not running in Quarto\n\t\tif (!preblock.parentNode.classList.contains(\"codeblock\")) {\n\t\t\tcodeblock = document.createElement(\"div\");\n\t\t\tpreblock.parentNode.insertBefore(codeblock, preblock);\n\t\t}\n\t}\n\n\tcodeblock.classList.add(\"codeblock\");\n\n\tif (dataHolder.dataset.cc && dataHolder.dataset.cc == \"false\") {\n\t\treturn\n\t}\n\n\t// Put the pre inside the wrapper\n\tcodeblock.appendChild(preblock);\n\n\tif (options.display == \"icons\" || options.display == \"both\") {\n\t\tdataHolder.dataset.ccDisplay = options.display;\n\t}\n\n\tif (preblock.classList.contains(\"fragment\")) {\n\t\tcodeblock.classList.add(\"fragment\");\n\t\tpreblock.classList.remove(\"fragment\")\n\t}\n\n\tlet button = document.createElement(\"button\");\n\tbutton.title=\"Copy to Clipboard\";\n\tbutton.textholder = button;\n\n\tif (options.button != \"always\" ) {\n\t\tbutton.dataset[\"cc\"] = options.button;\n\t}\n\n\tlet possibleAttributes = [\"cc\", \"ccCopy\", \"ccCopied\", \"ccDisplay\"];\n\n\tpossibleAttributes.forEach(attribute => {\n\t\tif (dataHolder.dataset[attribute]) {\n\t\t\tbutton.dataset[attribute] = dataHolder.dataset[attribute];\n\t\t\tdelete dataHolder.dataset[attribute];\n\t\t}\n\t} );\n\n\tstyleButton(button, options);\n\t// Insert the button\n\tcodeblock.insertBefore(button, preblock);\n}\n","export const styleButton = (button, options) => {\n\n\tlet originalIconsvg = [];\n\toriginalIconsvg.copy = '<svg aria-hidden=\"true\" height=\"16\" width=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\"><path d=\"M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z\"></path><path d=\"M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z\"></path></svg>'\n\n\toriginalIconsvg.copied = '<svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\"><path d=\"M15.7,2.8c0.4,0.4,0.4,1,0,1.4L6,13.9c-0.4,0.4-1,0.4-1.4,0L0.3,9.6c-0.4-0.4-0.4-1,0-1.4c0.4-0.4,1-0.4,1.4,0l3.6,3.6l9-9C14.7,2.4,15.3,2.4,15.7,2.8z\"/></svg>'\n\n\tlet copysvg = options.iconsvg && options.iconsvg.copy != \"\" ? options.iconsvg.copy : originalIconsvg.copy;\n\tlet copiedsvg = options.iconsvg && options.iconsvg.copied != \"\" ? options.iconsvg.copied : originalIconsvg.copied;\n\n\t// If the button needs to be shown at all\n\tif ( button.dataset.cc != false && button.dataset.cc != \"false\" ) {\n\n\n\t\t// If icons are needed\n\t\tlet theDisplay = button.dataset.ccDisplay || options.display;\n\t\tif (theDisplay == \"icons\" || theDisplay == \"both\") {\n\n\t\t\t\tbutton.innerHTML = `<span></span>`;\n\t\t\t\tbutton.textholder = button.getElementsByTagName(\"SPAN\")[0];\n\t\t\t\tbutton.insertAdjacentHTML(\"afterbegin\", copiedsvg);\n\t\t\t\tbutton.insertAdjacentHTML(\"afterbegin\", copysvg);\n\n\t\t\t\t// If tooltip is wanted or not (global setting only)\n\t\t\t\tif ((button.dataset.ccDisplay && button.dataset.ccDisplay == \"icons\") && options.tooltip) {\n\t\t\t\t\tbutton.textholder.style.display = \"flex\"\n\t\t\t\t}\n\t\t}\n\n\t\t// If custom text, else the global text\n\t\tbutton.textholder.textContent = button.dataset.ccCopy ? button.dataset.ccCopy : (options.copy || options.text.copy);\n\n\t}\n}","export const doClipboard = (options) => {\n\n\tlet clipboard = options.plaintextonly == true ? \n\tnew ClipboardJS(\".codeblock > button\", {\n\t\ttext: function(trigger) { \n\t\t\treturn trigger.nextElementSibling.firstChild.innerText.replace(/^\\s+|\\s+$/g, \"\");\n\t\t}}) : \n\tnew ClipboardJS(\".codeblock > button\", {\n\t\ttarget({nextElementSibling}) {\n\t\t\treturn nextElementSibling.firstChild;\n\t\t}}) ;\n\n\n\tclipboard.on(\"success\", e => {\n\n\t\tlet button = e.trigger;\n\t\te.clearSelection();\n\t\n\t\tbutton.dataset[\"textOriginal\"] =  button.textholder.innerHTML;\n\t\tbutton.textholder.innerHTML = button.dataset[\"ccCopied\"] ? button.dataset[\"ccCopied\"] : (options.copied || options.text.copied);\n\n\t\tbutton.setAttribute(\"disabled\", true);\n\t\n\t\tsetTimeout(() => {\n\t\t\tif ( (button.dataset.ccDisplay && button.dataset.ccDisplay != \"icons\") || (!button.dataset.ccDisplay) ) {\n\t\t\t\tbutton.textholder.innerHTML = button.getAttribute(\"data-text-original\");\n\t\t\t}\n\t\t\tbutton.removeAttribute(\"data-text-original\");\n\t\t\tbutton.removeAttribute(\"disabled\");\n\t\n\t\t}, options.timeout);\n\t});\n\n\tclipboard.on('error', e => {\n\t\tconsole.error('There was an error copying the code: ', e.action);\n\t});\n}","import { mergeDeep, pluginPath, loadResource } from './helpers';\n\nimport { getPreBlocks } from './functions/get-pre-blocks';\nimport { doClipboard } from './functions/do-clipboard';\n\nconst Plugin = () => {\n\n\tlet options = {};\n\n\t/**\n\t* The main function of the plugin\n\t* @param {object} deck - The deck object\n\t* @param {object} options - The options object\n\t* @param {string} es5Filename - The name of the file that will be used\n\t*/\n\tconst CopyCodeStart = function (deck, options, es5Filename) {\n\n\t\tlet thePath = pluginPath(es5Filename);\n\t\tlet pluginBaseName = es5Filename.replace(/\\.[^/.]+$/, \"\");\n\n\t\tlet ClipboardJSPath = options.clipboardjspath != \"\" ? options.clipboardjspath : null || \"https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js\"\n\t\tlet CopyCodeStylePath = options.csspath ? options.csspath : null || `${thePath}${pluginBaseName}.css` || `plugin/${pluginBaseName}/${pluginBaseName}.css`\n\t\tlet preblocks = deck.getRevealElement().querySelectorAll(\"pre\");\n\n\t\tif (typeof ClipboardJS != \"function\") {\n\t\t\tloadResource(ClipboardJSPath, 'script', () => {\n\t\t\t\tif (typeof ClipboardJS === \"function\") {\n\t\t\t\t\tif (preblocks.length > 0) {\n\t\t\t\t\t\tloadResource(CopyCodeStylePath, 'stylesheet', () => {\n\t\t\t\t\t\t\tgetPreBlocks(preblocks, options, deck);\n\t\t\t\t\t\t\tdoClipboard(options);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tconsole.log(\"Clipboard.js did not load\");\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tif (preblocks.length > 0) {\n\t\t\t\tloadResource(CopyCodeStylePath, 'stylesheet', () => {\n\t\t\t\t\tgetPreBlocks(preblocks, options, deck);\n\t\t\t\t\tdoClipboard(options);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t};\n\n\n\t/**\n\t* Initialize the plugin\n\t* @param {object} deck - The deck object\n\t*/\n\tconst init = function (deck) {\n\n\t\tlet defaultOptions = {\n\t\t\tbutton: \"always\",\n\t\t\tdisplay: \"text\",\n\t\t\ttext: {\n\t\t\t\tcopy: \"Copy\",\n\t\t\t\tcopied: \"Copied!\",\n\t\t\t},\n\t\t\tplaintextonly: true,\n\t\t\ttimeout: 1000,\n\t\t\tstyle: {\n\t\t\t\tcopybg: \"orange\",\n\t\t\t\tcopiedbg: \"green\",\n\t\t\t\tcopycolor: \"black\",\n\t\t\t\tcopiedcolor: \"white\",\n\t\t\t\tcopyborder: \"\",\n\t\t\t\tcopiedborder: \"\",\n\t\t\t\tscale: 1,\n\t\t\t\toffset: 0,\n\t\t\t\tradius: 0\n\t\t\t},\n\t\t\ttooltip: true,\n\t\t\ticonsvg: {\n\t\t\t\tcopy: '',   // User can paste <svg>…</svg> code here\n\t\t\t\tcopied: ''  // User can paste <svg>…</svg> code here\n\t\t\t},\n\t\t\tcsspath: \"\",\n\t\t\tclipboardjspath: \"\"\n\t\t};\n\n\t\toptions = mergeDeep(defaultOptions, deck.getConfig().copycode || {});\n\n\t\tCopyCodeStart(deck, options, \"copycode.js\");\n\t};\n\n\treturn { id: 'copycode', init: init };\n};\n\nexport default Plugin;"],"names":["isObject","item","Array","isArray","mergeDeep","target","sources","length","source","shift","key","Object","assign","loadResource","url","type","callback","resource","head","document","querySelector","createElement","src","rel","href","finish","call","onload","onreadystatechange","this","readyState","appendChild","getPreBlocks","preblocks","options","deck","generator","quarto","content","includes","revealEl","getRevealElement","style","setProperty","copybg","copycolor","copiedbg","copiedcolor","scale","offset","radius","copyborder","copiedborder","forEach","preblock","buildStructure","codeblock","dataHolder","parentNode","matches","classList","contains","insertBefore","add","dataset","cc","display","ccDisplay","remove","button","title","textholder","attribute","styleButton","originalIconsvg","copy","copied","copysvg","iconsvg","copiedsvg","theDisplay","innerHTML","getElementsByTagName","insertAdjacentHTML","tooltip","textContent","ccCopy","text","doClipboard","clipboard","plaintextonly","ClipboardJS","trigger","nextElementSibling","firstChild","innerText","replace","on","e","clearSelection","setAttribute","setTimeout","getAttribute","removeAttribute","timeout","console","error","action","Plugin","CopyCodeStart","es5Filename","thePath","fileName","path","pluginScript","slice","import","location","require","pathToFileURL","__filename","_documentCurrentScript","URL","baseURI","lastIndexOf","pluginPath","pluginBaseName","ClipboardJSPath","clipboardjspath","CopyCodeStylePath","csspath","querySelectorAll","log","id","init","getConfig","copycode"],"mappings":"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"}